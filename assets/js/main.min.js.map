{"version":3,"sources":["../../../assets/js/analytics.js","../../../assets/js/shareIntent.js","../../../assets/js/main.js"],"names":["events","analytics","Clicked bio profile link","Clicked footer link","Clicked share button","event","description","label","window","ga","hasOwnProperty","hitType","eventCategory","eventAction","eventLabel","bindSharePopup","config","handleIntent","e","winHeight","screen","height","winWidth","width","target","srcElement","m","undefined","left","top","nodeName","toLowerCase","parentNode","href","match","intentRegex","intentName","Math","round","options","windowOptions","open","returnValue","preventDefault","document","addEventListener","attachEvent","configs","facebook","google","twitter","clickedBioProfileLink","clickedFooterLink","matches","text","body"],"mappings":"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","file":"main.min.js","sourcesContent":["/**\n * Analytics tracking\n *\n * @module analytics\n */\n\n\n/**\n * Event name (eventAction) to selector context (eventCategory)\n * @constant\n * @type {Object<String.String>}\n */\nconst events = {\n  'Clicked bio profile link': '.bio__links',\n  'Clicked footer link': '.globalFooter',\n  'Clicked share button': '.widget--sharePost',\n};\n\n\n/**\n * @namespace\n */\nvar analytics = {};\n\n\n/**\n * event\n *\n * @param {String} description\n * @param {Object} label\n * @return {this}\n */\nanalytics.event = (description, label) => {\n  if (window.ga && events.hasOwnProperty(description)) {\n    window.ga('send', {\n      hitType:        'event',\n      eventCategory:  events[description],\n      eventAction:    description,\n      eventLabel:     label,\n    });\n  }\n\n  return this;\n};\n\n\nexport default analytics;\n","/**\n * Web intents for sharing. Adapted from twitter's code.\n *\n * @see {@link https://dev.twitter.com/web/intents#follow-intent}\n * @module shareIntent\n */\n\n\nimport analytics from './analytics.js';\n\n\n/**\n * @constant\n * @type {String}\n */\nconst windowOptions = 'scrollbars=yes,resizable=yes,toolbar=no,location=yes';\n\n\n/**\n * @typedef {Object} IntentProvider\n * @property {RegExp} intentRegex matches an HREF\n * @property {Number} width of pop-up window\n * @property {Number} height of pop-up window\n */\n\n/**\n * Settings for each share pop-up provider\n * @constant\n * @type {Object.<String, IntentProvider>}\n */\nexport const configs = {\n  facebook: {\n    intentName: 'Facebook',\n    intentRegex: /facebook\\.com\\/dialog\\/share\\?(\\w+)/,\n    width: 600,\n    height: 500,\n  },\n  google: {\n    intentName: 'Google+',\n    intentRegex: /plus\\.google\\.com\\/share\\?(\\w+)/,\n    width: 500,\n    height: 525,\n  },\n  twitter: {\n    intentName: 'Twitter',\n    intentRegex: /twitter\\.com\\/intent\\/(\\w+)/,\n    width: 550,\n    height: 420,\n  },\n};\n\n/**\n * shareIntent opens a popup window to share a ShareIntent\n *\n * @param {IntentProvider} config\n */\nexport function bindSharePopup(config) {\n\n  /**\n   * handleIntent\n   *\n   * @param {Event} e\n   */\n  var handleIntent = (e) => {\n    e = e || window.event;\n    const winHeight = window.screen.height;\n    const winWidth = window.screen.width;\n    let target = e.target || e.srcElement;\n    let m;\n    let left;\n    let top;\n\n    while (target && target.nodeName.toLowerCase() !== 'a') {\n      target = target.parentNode;\n    }\n\n    if (target && target.nodeName.toLowerCase() === 'a' && target.href) {\n      m = target.href.match(config.intentRegex);\n      if (m) {\n\n        analytics.event('Clicked share button', config.intentName);\n\n        left = Math.round((winWidth / 2) - (config.width / 2));\n        top = 0;\n\n        if (winHeight > config.height) {\n          top = Math.round((winHeight / 2) - (config.height / 2));\n        }\n\n        let options = `${windowOptions},width=${config.width},height=${config.height},left=${left},top=${top}`;\n        window.open(target.href, 'intent', options);\n        e.returnValue = false;\n        e.preventDefault && e.preventDefault();\n      }\n    }\n  };\n\n  if (document.addEventListener) {\n    document.addEventListener('click', handleIntent, false);\n  }\n  else if (document.attachEvent) {\n    document.attachEvent('onclick', handleIntent);\n  }\n}\n\n","/**\n * @author David O'Trakoun <me@davidosomething.com>\n * @module global\n * @requires module:shareIntent\n */\n\nimport analytics from './analytics.js';\nimport { configs, bindSharePopup } from './shareIntent.js';\n\nbindSharePopup(configs.facebook);\nbindSharePopup(configs.google);\nbindSharePopup(configs.twitter);\n\n/**\n * clickedBioProfileLink\n *\n * @param {Event} e\n */\nconst clickedBioProfileLink = (e) => {\n  if (!e.target.matches('.bio__links a')) {\n    return;\n  }\n\n  analytics.event('Clicked bio profile link', e.target.text);\n};\ndocument.body.addEventListener('click', clickedBioProfileLink);\n\n/**\n * clickedFooterLink\n *\n * @param {Event} e\n */\nconst clickedFooterLink = (e) => {\n  if (!e.target.matches('.globalFooter a')) {\n    return;\n  }\n\n  analytics.event('Clicked footer link',  e.target.text);\n};\ndocument.body.addEventListener('click', clickedFooterLink);\n"]}